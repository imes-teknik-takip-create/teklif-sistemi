// GÜNCEL VE TEK SWITCH TAB FONKSİYONU
function switchTab(tabId) {
    // 1. Eğer ekran masaüstü (geniş) ise panelleri gizleme, her şey yan yana kalsın
    if (window.innerWidth > 992) {
        document.querySelectorAll('.panel').forEach(p => p.style.display = 'block');
        return; 
    }

    // 2. MOBİLDEYSEK: Önce bütün panelleri gizle
    const panels = document.querySelectorAll('.panel');
    panels.forEach(p => {
        p.classList.remove('active');
        p.style.display = 'none'; 
    });

    // 3. MOBİLDEYSEK: Bütün butonların aktiflik ışığını söndür
    const buttons = document.querySelectorAll('.mobile-nav button');
    buttons.forEach(b => b.classList.remove('active'));

    // 4. MOBİLDEYSEK: Tıklanan paneli bul ve onu göster
    const selectedPanel = document.getElementById('tab-' + tabId);
    if (selectedPanel) {
        selectedPanel.classList.add('active');
        selectedPanel.style.display = 'block'; 
    }

    // 5. MOBİLDEYSEK: Tıklanan butonun ışığını yak
    const btnMap = {
        'products': 'btn-prod',
        'cart': 'btn-cart',
        'archive': 'btn-arch'
    };
    const activeBtnId = btnMap[tabId];
    if (activeBtnId) {
        document.getElementById(activeBtnId).classList.add('active');
    }
    
    // Sayfayı en üste çek
    window.scrollTo(0,0);
}
